---
title: 第三部分——前端
id: 3
date: 2019-11-13 20:00:00
tags: 小绿本
toc: true
comment: true
---

### 1.谈谈你对http协议的认识。

```
　　浏览器本质,socket客户端遵循Http协议
　　HTTP协议本质：通过\r\n分割的规范+ 请求响应之后断开链接   ==  >  无状态、短连接
具体：
　　Http协议是建立在tcp之上的，是一种规范，它规范定了发送的数据的数据格式，
然而这个数据格式是通过\r\n 进行分割的，请求头与请求体也是通过2个\r\n分割的，响应的时候，
响应头与响应体也是通过\r\n分割，并且还规定已请求已响应就会断开链接   
即--->  短连接、无状态
```

### 2.谈谈你对websocket协议的认识。

```
websocket是给浏览器新建的一套（类似与http）协议，协议规定：（\r\n分割）浏览器和服务器连接之后不断开，
　　　　以此完成：服务端向客户端主动推送消息。

websocket协议额外做的一些操作
握手  ---->  连接钱进行校验
加密  ----> payload_len=127/126/<=125   --> mask key 
```

```python
创建一个连接后不断开的socket
当连接成功之后：
    客户端（浏览器）会自动向服务端发送消息，包含： Sec-WebSocket-Key: iyRe1KMHi4S4QXzcoboMmw==
    服务端接收之后，会对于该数据进行加密：base64(sha1(swk + magic_string))
    构造响应头：
            HTTP/1.1 101 Switching Protocols\r\n
            Upgrade:websocket\r\n
            Connection: Upgrade\r\n
            Sec-WebSocket-Accept: 加密后的值\r\n
            WebSocket-Location: ws://127.0.0.1:8002\r\n\r\n        
    发给客户端（浏览器）
建立：双工通道，接下来就可以进行收发数据
    发送数据是加密，解密，根据payload_len的值进行处理
        payload_len <= 125
        payload_len == 126
        payload_len == 127
    获取内容：
        mask_key
        数据
        根据mask_key和数据进行位运算，就可以把值解析出来。
```

###  3.什么是magic string ？

```
 客户端向服务端发送消息时，会有一个'sec-websocket-key'和'magic string'的随机字符串(魔法字符串)
# 服务端接收到消息后会把他们连接成一个新的key串，进行编码、加密，确保信息的安全性
```

### 4.如何创建响应式布局？

```html
响应式布局是通过@media实现的
@media （min-width：768px）{
     .pg-header{
           background-color:green;
      }      
}
@media   (min-width:992px){
     .pg-header{
            background-color:pink;
     }
}    

代码
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <style>
        body{
            margin: 0;
        }
        .pg-header{
            background-color: red;
            height: 48px;
        }

        @media (min-width: 768px) {
            .pg-header{
                background-color: aqua;
            }
        }
        @media (min-width: 992px) {
            .pg-header{
                background-color: blueviolet;
            }
        }
    </style>
</head>
<body>
    <div class="pg-header"></div>
</body>
</html>
```

### 5.你曾经使用过哪些前端框架？

```python
jQuery
- BootStrap
- Vue.js(与vue齐名的前端框架React和Angular)
```

### 6.什么是ajax请求？并使用jQuery和XMLHttpRequest对象实现一个ajax请求。

```
Ajax 是 Asynchronous JavaScript and XML 的缩写。Ajax 是一种在 XML，HTML，CSS 和 JavaScript 的帮助下创建更好，更快和更具交互式 Web 应用程序的新技术。

Ajax 使用 XHTML 呈现内容，CSS 处理表现，使用文档对象模型（DOM）和 JavaScript 显示动态内容。

传统的 Web 应用程序使用同步请求的方式传输信息到服务器或者从服务器获取信息。这意味我们需要填写表单，点击提交，然后定向到服务器提供的带有新信息的新页面。

对于 Ajax，当我们点击提交，JavaScript 会发起一个到服务器的请求，它会解析结果，然后更新当前屏幕显示。从纯粹意义上讲，用户甚至都不知道给服务器传送了什么。

XML 通常被用作从服务器接收的数据格式，尽管它可以是任意格式，包括文本。

Ajax 是一种独立于 Web 服务器软件的 Web 浏览器技术。

用户可以继续使用该应用程序，而客户端程序在后台向服务器请求信息。

直观和自然的用户交互。不再需要点击，鼠标移动就足够触发事件。

基于数据驱动的，而非页面驱动。
```

外链：http://www.cnblogs.com/wupeiqi/articles/5703697.html

### 7.如何在前端实现轮训？

```html
轮询是在特定的的时间间隔（如每1秒），由浏览器对服务器发出HTTP request，然后由服务器返回最新的数据给客户端的浏览器。这种传统的HTTP request 的模式带来很明显的缺点 – 浏览器需要不断的向服务器发出请求，然而HTTP request 的header是非常长的，里面包含的有用数据可能只是一个很小的值，这样会占用很多的带宽。
var xhr = new XMLHttpRequest();
    setInterval(function(){
        xhr.open('GET','/user');
        xhr.onreadystatechange = function(){

        };
        xhr.send();
    },1000)
```

```html
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
</head>
<body>
    <h1>请选出最帅的男人</h1>
    <ul>
        {% for k,v in gg.items() %}
            <li>ID:{{ k }}, 姓名：{{ v.name }} ，票数：{{ v.count }}</li>
        {% endfor %}
    </ul>

    <script>
        setInterval(function () {
            location.reload();
        },2000)
    </script>
</body>
</html>
```

### 8.如何在前端实现长轮训？

```
客户端向服务器发送请求，服务器接到请求后hang住连接，等待30秒，30s过后再重新发起请求，
直到有新消息才返回响应信息并关闭连接，客户端处理完响应信息后再向服务器发送新的请求。

```

```html
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
</head>
<body>
    <h1>请选出最帅的男人</h1>
    <ul>
        {% for k,v in gg.items() %}
            <li style="cursor: pointer" id="user_{{ k }}" ondblclick="vote({{ k }});">ID:{{ k }}, 姓名：{{ v.name }} ，票数：<span>{{ v.count }}</span></li>
        {% endfor %}
    </ul>

    <script src="/static/jquery-3.3.1.min.js"></script>
    <script>
        $(function () {
            get_new_count();
        });
        
        function get_new_count() {
            $.ajax({
                url: '/get_new_count',
                type:'GET',
                dataType:'JSON',
                success:function (arg) {
                    if (arg.status){
                        // 更新票数
                        var gid = "#user_" + arg.data.gid;
                        $(gid).find('span').text(arg.data.count);
                    }else{
                        // 10s内没有人投票
                    }
                    get_new_count();

                }
            })
        }

        function vote(gid) {
            $.ajax({
                url: '/vote',
                type:'POST',
                data:{gid:gid},
                dataType:"JSON",
                success:function (arg) {

                }
            })
        }
    </script>
</body>
</html>
```

### 9.vuex的作用？

```
多组件之间共享：vuex

补充luffyvue
1:router-link / router-view
2:双向绑定，用户绑定v-model
3：循环展示课程：v-for
4：路由系统，添加动态参数
5：cookie操作：vue-cookies
6：多组件之间共享：vuex
7：发送ajax请求：axios (js模块)
```

### 10.vue中的路由的拦截器的作用？

```
 vue-resource的interceptors拦截器的作用正是解决此需求的妙方。在每次http的请求响应之后，如果设置了拦截器如下，会优先执行拦截器函数，获取响应体，然后才会决定是否把response返回给then进行接收
```

### 11.axios的作用？

```
发送ajax请求：axios (js模块)
```

外链：https://www.jianshu.com/p/13cf01cdb81f

### 12.列举vue的常见指令。

```
 1、v-if指令:判断指令，根据表达式值得真假来插入或删除相应的值。
  2、v-show指令:条件渲染指令，无论返回的布尔值是true还是false，元素都会存在在html中，只是false的元素会隐藏在html中，并不会删除.
  3、v-else指令:配合v-if或v-else使用。
  4、v-for指令:循环指令，相当于遍历。
  5、v-bind:给DOM绑定元素属性。
  6、v-on指令:监听DOM事件。
```

### 13.简述jsonp及实现原理？

外链：https://www.bbsmax.com/A/VGzlk8xdbq/

```
JSONP
jsonp是json用来跨域的一个东西。原理是通过script标签的跨域特性来绕过同源策略。
JSONP的简单实现模式，或者说是JSONP的原型：创建一个回调函数，然后在远程服务上调用这个函数并且将JSON 数据形式作为参数传递，
完成回调。 
```

### 14.什么是cors ？

外链：https://juejin.im/post/5d102db8e51d4577531381f3

```
CORS
浏览器将CORS请求分成两类：简单请求和赋复杂请求

简单请求(同时满足以下两大条件)
（1）请求方法是以下三种方法之一:
HEAD
GET
POST
（2）HTTP的头信息不超出以下几种字段：
Accept
Accept-Language
Content-Language
Last-Event-ID
Content-Type  ：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain

凡是不同时满足上面两个条件，就属于非简单请求
```

### 15.列举Http请求中常见的请求方式？

```
GET、POST、PUT、patch（修改数据）
HEAD(类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头)
DELETE传值代码f
Request.QueryString方法针对控件idRequest.Form方法针对控件名称name
```

### 16.列举Http请求中的状态码？

```
分类：
1**  信息，服务器收到请求，需要请求者继续执行操作
2**  成功，操作被成功接收并处理
3** 重定向，需要进一步的操作以完成请求
4** 客户端错误，请求包含语法错误或无法完成请求
5** 服务器错误，服务器在处理请求的过程中发生了错误

常见的状态码
200 -请求成功202 -已接受请求，尚未处理204 -请求成功，且不需返回内容
301 - 资源（网页等）被永久转移到其他url400 - 请求的语义或是参数有错403 - 服务器拒绝请求
404 - 请求资源（网页）不存在
500 - 内部服务器错误502 - 网关错误，一般是服务器压力过大导致连接超时503 - 由于超载或系统维护，服务器暂时的无法处理客户端的请求。
```

### 17.列举Http请求中常见的请求头？

```
- user-agent
- host
- referer
- cookie 
- content-type 
```

### 18.JavaScript(或 jQuery)如何选择一个id 为main 的容器

```
JavaScript:document.getElementById("main");
Jquery:$("#main");
```

### 19.JavaScript(或jQuery)如何选择一个class 为 menu的容器

```
JavaScript:document.getElementByClass("menu");
Jquery:$(".menu");
```

### 20.前后端分离的基本原理

连接：https://blog.csdn.net/qq_40890660/article/details/101227901

```
前后端分离并非仅仅是一种开发模式，而是一种架构模式。前端项目和后端项目是两个项目，放在两个不同的服务器中，需要独立部署，两个不同的工程，两个不同的代码库，不同的开发人员。前后端工程师需要约定交互的接口，实现并行开发，并发结束后需要进行独立的部署。前端通过Ajax来调用HTTP请求来电泳后端的restful api。前端只需要关注页面的样式与动态数据的解析和渲染，而后端专注与具体业务逻辑。
```

### 21.前后端分离的通信数据

外链：https://cloud.tencent.com/developer/article/1181847

### 22.如何创建响应式布局?

外链：https://juejin.im/post/5b8b4ddef265da436d7e594d